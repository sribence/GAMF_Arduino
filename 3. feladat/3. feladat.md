# üåÄ Rotary Encoder √©s LCD kijelz≈ë ‚Äì Arduino Projekt

Ez a projekt egy **8x2 karakteres LCD kijelz≈ë** √©s egy **rotary encoder** egy√ºttes haszn√°lat√°t mutatja be. A c√©l az LCD kezel√©s√©nek elsaj√°t√≠t√°sa, valamint egy **val√≥sidej≈± men√ºrendszer** kialak√≠t√°sa a rotary encoder seg√≠ts√©g√©vel.

---

## üì¶ Haszn√°lt eszk√∂z√∂k

| Eszk√∂z                    | Megjegyz√©s                  |
|---------------------------|-----------------------------|
| Arduino UNO               |                             
| 8x2 karakteres LCD        | I2C vagy p√°rhuzamos v√°ltozat
| Rotary Encoder            | GND, +, CLK, DT, SW l√°bak  
| Breadboard + k√°belek      |                            

---

## üîå Bek√∂t√©si √°bra

![connecting of the LCD to UNOI](/2.%20feladat/3-1.png)

![connecting of the LCD and rotary to UNOI](/2.%20feladat/3-2.png)

> [!NOTE]
> A fenti √°bra csak illusztr√°ci√≥. A rotary encoder GND, +, CLK, DT √©s SW l√°bait tetsz≈ëleges digit√°lis portokra k√∂theted (pl. 2, 3, 4, 5, 6).

---

## üî¢ Projekt l√©p√©sek

### 1. LCD kijelz≈ë bek√∂t√©se √©s tesztel√©se

```cpp
#include <LiquidCrystal.h>

LiquidCrystal kijelzo(12, 11, 5, 4, 3, 2); // RS, E, D4, D5, D6, D7

void setup() {
  kijelzo.begin(8, 2);
  kijelzo.print("Hello");
  kijelzo.setCursor(0, 1);
  kijelzo.print("Vilag!");
}

void loop() {
  // nincs ciklikus tartalom
}
```

[!NOTE]
Ha I2C kijelz≈ët haszn√°lsz, a LiquidCrystal_I2C k√∂nyvt√°r sz√ºks√©ges, √©s az inicializ√°l√°s kijelzo.begin(8, 2); helyett pl. kijelzo.init(); lehet.

2. Soros portr√≥l olvasott adat megjelen√≠t√©se
```cpp
void loop() {
  if (Serial.available()) {
    String uzenet = Serial.readStringUntil('\n');
    kijelzo.clear();
    kijelzo.setCursor(0, 0);
    kijelzo.print(uzenet);
  }
}
```

[!NOTE]
A soros porton k√ºld√∂tt adat max. 8 karakter legyen soronk√©nt, k√ºl√∂nben nem f√©r ki a kijelz≈ëre.

3. Saj√°t karakterek megjelen√≠t√©se
```cpp
byte nyil[] = {
  B00000,
  B00100,
  B01100,
  B11111,
  B01100,
  B00100,
  B00000,
  B00000
};

void setup() {
  kijelzo.createChar(0, nyil);
  kijelzo.begin(8, 2);
  kijelzo.setCursor(0, 0);
  kijelzo.write(byte(0));
}
```

[!NOTE]
A createChar() seg√≠ts√©g√©vel 8 saj√°t karaktert t√°rolhatsz (0‚Äì7 indexen).

4. Rotary encoder bek√∂t√©se √©s leolvas√°sa

```cpp
int encoderCLK = 2;
int encoderDT = 3;
int szamlalo = 0;
int allapot = 0;
int elozoAllapot = 0;

void setup() {
  pinMode(encoderCLK, INPUT);
  pinMode(encoderDT, INPUT);
  kijelzo.begin(8, 2);
  kijelzo.setCursor(0, 0);
  kijelzo.print("Ertek:");
}

void loop() {
  allapot = digitalRead(encoderCLK);

  if (allapot != elozoAllapot) {
    if (digitalRead(encoderDT) != allapot) {
      szamlalo++;
    } else {
      szamlalo--;
    }

    kijelzo.setCursor(0, 1);
    kijelzo.print("     "); // t√∂rl√©s
    kijelzo.setCursor(0, 1);
    kijelzo.print(szamlalo);
  }

  elozoAllapot = allapot;
}
```

[!NOTE]
A rotary encoder forg√°s√°nak ir√°ny√°t az encoderCLK √©s encoderDT l√°bak √°llapota alapj√°n hat√°rozzuk meg.

5. Extra: Men√º v√°lt√°s rotary encoderrel
6. 
```cpp
String menuPontok[] = {"Start", "Beall.", "Info", "Exit"};
int aktualis = 0;

void loop() {
  allapot = digitalRead(encoderCLK);
  if (allapot != elozoAllapot) {
    if (digitalRead(encoderDT) != allapot) {
      aktualis++;
    } else {
      aktualis--;
    }

    if (aktualis < 0) aktualis = 3;
    if (aktualis > 3) aktualis = 0;

    kijelzo.clear();
    kijelzo.setCursor(0, 0);
    kijelzo.write(byte(0)); // ny√≠l karakter
    kijelzo.print(" ");
    kijelzo.print(menuPontok[aktualis]);
  }
  elozoAllapot = allapot;
}
```

[!NOTE]
A men√ºpontokat egy karaktert√∂mbben (String menuPontok[]) t√°roljuk, √©s az encoderrel forgatva v√°ltjuk.

üí° Fejleszt√©si √∂tletek
 Gombnyom√°sra aktiv√°lhat√≥ men√ºpont

 Hosszabb men√ºsor, t√∂bb oldalra bontva

 Szenzoradat (pl. h≈ëm√©rs√©klet) megjelen√≠t√©se men√ºpont alatt

 Kijelz≈ë h√°tt√©rvil√°g√≠t√°s√°nak szab√°lyoz√°sa

