const int RELAY = 3;
const int SOIL_SENSOR = A1;
const int WATER_SENSOR = A2;

const int SOIL_THRESHOLD = 50;
const int RAIN_THRESHOLD = 100;

void setup() {
  Serial.begin(9600);
  pinMode(RELAY, OUTPUT);
}

void loop() {
  int soilValue = analogRead(SOIL_SENSOR);
  int rainValue = analogRead(WATER_SENSOR);

  Serial.print("Soil: ");
  Serial.print(soilValue);
  Serial.print(" | Rain: ");
  Serial.println(rainValue);

  if (soilValue < SOIL_THRESHOLD && rainValue < RAIN_THRESHOLD) {
    digitalWrite(RELAY, HIGH); // szivattyú bekapcsol
    Serial.println("Pump: ON");
  } else {
    digitalWrite(RELAY, LOW); // szivattyú kikapcsol
    Serial.println("Pump: OFF");
  }

  delay(2000);
}
